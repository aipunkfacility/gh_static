---
interface Office {
  address: string;
  mapUrl: string;
}

interface ContactMeta {
  telegramManager: string;
  telegramChannel: string;
  telegramBot: string;
  offices: Office[];
}

interface SiteMeta {
  responseTimeText?: string;
  contacts?: ContactMeta;
}

interface Props {
  siteMeta: SiteMeta;
}

const { siteMeta } = Astro.props;

const contacts = siteMeta.contacts || {
  telegramManager: 'https://t.me/GreenHill_Support',
  telegramChannel: 'https://t.me/GreenHill_tours',
  telegramBot: 'https://t.me/GHtours_bot',
  offices: [
    { address: '121 Nguyễn Đình Chiểu', mapUrl: 'https://maps.app.goo.gl/CoBgDGcdES5Ktx1G6' },
    { address: '107 Nguyễn Đình Chiểu', mapUrl: 'https://maps.app.goo.gl/yUP4APRYq7dLKTDn9' }
  ]
};
---

<section id="contacts" class="py-16 bg-gray-50">
  <div class="max-w-4xl mx-auto px-4">
    <h2 class="text-3xl font-bold text-center mb-10 text-gray-800">Наши контакты</h2>

    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8">
      <a href={contacts.telegramManager} target="_blank" rel="noopener noreferrer"
         class="bg-blue-500 hover:bg-blue-600 text-white py-4 px-6 rounded-xl font-bold flex items-center justify-center gap-3 transition shadow-md">
        <i class="ri-telegram-fill text-2xl"></i>
        Менеджер
      </a>
      
      <a href={contacts.telegramChannel} target="_blank" rel="noopener noreferrer"
         class="bg-blue-500 hover:bg-blue-600 text-white py-4 px-6 rounded-xl font-bold flex items-center justify-center gap-3 transition shadow-md">
        <i class="ri-notification-3-line text-2xl"></i>
        Наш канал
      </a>

      <a href={contacts.telegramBot} target="_blank" rel="noopener noreferrer"
         class="bg-blue-500 hover:bg-blue-600 text-white py-4 px-6 rounded-xl font-bold flex items-center justify-center gap-3 transition shadow-md">
        <i class="ri-robot-2-line text-2xl"></i>
        Наш бот
      </a>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-12">
      {contacts.offices.map(office => (
        <a href={office.mapUrl} target="_blank" rel="noopener noreferrer"
           class="bg-orange-500 hover:bg-orange-600 text-white py-4 px-6 rounded-xl font-bold flex items-center justify-center gap-3 transition shadow-md text-center">
          <i class="ri-map-pin-2-fill text-2xl"></i>
          {office.address}
        </a>
      ))}
    </div>

    <div class="text-center">
      <button onclick="openWhatsApp()" 
              class="bg-green-500 hover:bg-green-600 text-white px-10 py-5 rounded-2xl font-bold text-xl transition-all shadow-lg hover:scale-105 flex items-center justify-center mx-auto gap-3">
        <i class="ri-whatsapp-line text-3xl"></i>
        Написать в WhatsApp
      </button>
    </div>
  </div>
</section>
